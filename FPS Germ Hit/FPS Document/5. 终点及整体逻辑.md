[TOC]

## 3.5 游戏终点及整体逻辑

### 3.5.1 创建一个LevelEnd

首先，创建一个LevelEnd GameObject：

**1.**   在“层次结构”窗口中的空白处单击鼠标右键，然后选择“ **创建空白”** 。

<img src = "https://img-blog.csdnimg.cn/20191110200410771.png " width = " 25%">

 **2.**   选中GameObject，然后转到“ **检查器”窗口。**使用标题中的文本字段将其重命名为“ **LevelEnd** ”。 

![img](https://connect-cdn-prd-cn.unitychina.cn/20190502/learn/images/851c67ec-557d-4cd2-8ce1-38918b50ce93_5.2.2_LevelEnd.png)

 **3.**   接下来，您需要确保LevelEnd在关卡的中间。单击“ **变换”** 组件左上方的小齿轮图标。选择**重置**。

![img](https://connect-cdn-prd-cn.unitychina.cn/20190502/learn/images/ca851b55-0b5a-4cdf-a9b8-af06dccafca1_5.2.3_Reset.png)

 **4.**   将光标移到“场景”视图上，然后按键盘上的**F** 以将焦点对准LevelEnd GameObject。  

**5.**   在**检查器中**，单击“ **添加组件”** 按钮。搜索“ **Box Collider** ”，然后将此组件添加到LevelEnd。 

![img](https://connect-cdn-prd-cn.unitychina.cn/20190502/learn/images/3ace12f5-75a7-40ce-9825-49b87e4d25bb_5.2.5_AddBoxCollider.png)

 **6.**   一个绿色的线框框将出现在“场景”视图中，表明LevelEnd具有对撞机。

![img](https://connect-cdn-prd-cn.unitychina.cn/20190502/learn/images/ea27034f-4353-4c2a-a419-3a67de72f237_5.2.6_LevelEndColliderSceneV.png)



使用**变换工具**将对象放置在您希望关卡结束的位置。

房间或走廊的尽头是执行此操作的好地方。



**7.**   可以使用Box Collider组件中的**Size** 参数来调整Collider的**大小**。一次将鼠标悬停在一个轴上，然后单击并向右或向左拖动以增加或减小Collider的大小。

![img](https://connect-cdn-prd-cn.unitychina.cn/20190502/learn/images/1dbe7fb7-94c2-468c-b67f-ac467160ff59_5.2.7_1_SizeProperty.png)

LevelEnd GameObject已移动到房间的尽头。对撞机已调整大小，以填充大部分可用空间。

![img](https://connect-cdn-prd-cn.unitychina.cn/20190502/learn/images/bd875660-5149-4717-aacc-e663b616b61d_5.2.7_2_SceneCollider.png)

 **8.**   保存您的更改。



### 3.5.2 添加触发器

现在，需要添加一个游戏结束的触发器。

触发器是游戏的基本构建块，可用于执行许多不同的操作。例如，当玩家到达某个点，播放声音或加载新游戏级别时，触发器可以启动过场动画。关卡设计的重要部分是放置碰撞器，该碰撞器将在玩家到达特定位置时触发游戏事件。

为了使玩家能够完成关卡，需要将LevelEnd Box Collider设置为游戏最终屏幕的触发器： 

**1.**   在检查器中，转到**Box Collider** 组件**。**启用**是触发器**复选框。 

![img](https://connect-cdn-prd-cn.unitychina.cn/20190502/learn/images/1051d8d9-3ecb-466e-8954-228430eb4034_5.3.1_IsTrigger.png)

 **2.**   单击**添加组件**按钮。搜索“ **End Checkpoint** ”，然后将此组件添加到LevelEnd。

![img](https://connect-cdn-prd-cn.unitychina.cn/20190502/learn/images/fb7dd7ad-1a15-43e4-80c2-4e7ee5be920c_5.3.2_EndCheckpoint.png)

 **3.**   保存更改。现在，按“ **播放”** 并通过移动到放置在关卡中的Box Collider中来测试触发器。当进入该空间时，游戏将结束并显示结果屏幕